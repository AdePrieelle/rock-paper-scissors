<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Rock Paper Scissors</title>
</head>
<body>

  <script>


      /// https://stackoverflow.com/questions/15326582/touppercase-is-not-working

      function computerPlay() {
          let computerDecision = Math.random();
          if (computerDecision <= 1/3) {
              return "ROCK"
          } else if (computerDecision > 1/3 && computerDecision <= 2/3) {
              return "PAPER"
          } else {
              return "SCISSORS"
          }
      }

    let computerSelection = computerPlay();
         
      function playRound(playerSelection, computerSelection) {
          if (playerSelection == computerSelection) {              
              return "It's a tie!"
          } else if (playerSelection == "ROCK" && computerSelection == "SCISSORS") {
              
              return "You Win! Rock beats Scissors"
          } else if (playerSelection == "ROCK" && computerSelection == "PAPER") {
              
              return "You Lose! Paper beats Rock"
          } else if (playerSelection == "PAPER" && computerSelection == "ROCK") {
              
              return "You Win! Paper beats Rock"
          } else if (playerSelection == "PAPER" && computerSelection == "SCISSORS") {
              
              return "You Lose! Scissors beats Paper"
          } else if (playerSelection == "SCISSORS" && computerSelection == "PAPER") {
              
              return "You Win! Scissors beats Paper"
          } else if (playerSelection == "SCISSORS" && computerSelection == "ROCK") {
              
              return "You Lose! Rock beats Scissors"
          }

      }

      function game() {
        let playerScore = 0;
        let computerScore = 0;
        let tieScore = 0;

        for (i=1; i <= 5; i++) {
            let lowerplayerSelection = prompt("Rock, Paper or Scissors?", "");
            let playerSelection = lowerplayerSelection.toUpperCase();
            let outcomeRound = playRound(playerSelection, computerPlay());
            console.log(outcomeRound);
            alert(outcomeRound);
            if (outcomeRound == "You Win! Rock beats Scissors" || outcomeRound == "You Win! Paper beats Rock" || outcomeRound == "You Win! Scissors beats Paper") {
                playerScore += 1;
            } else if (outcomeRound == "You Lose! Paper beats Rock" || outcomeRound == "You Lose! Scissors beats Paper" || outcomeRound == "You Lose! Rock beats Scissors") {
                computerScore += 1;
            } else if (outcomeRound == "It's a tie!") {
                tieScore += 1;
            }
            alert(`Round: ${i}\nPlayerscore: ${playerScore}\nComputerscore: ${computerScore}\nTies: ${tieScore}`);
            }

        if (playerScore > computerScore) {
            console.log("Player won the game!");
            alert("Player won the game!");
            } else if (playerScore < computerScore) {
                console.log("Computer won the game!");
                alert("Computer won the game!")
            } else if (playerScore == computerScore) {
                console.log("It's a tie game!");
                alert("It's a tie game!");
            }
        
      }

      game();

      
  
  </script>
</body>
</html>